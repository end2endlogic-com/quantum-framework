[[tutorial-supply-chain]]
:= Supply Chain Collaboration SaaS: A Business‑First Guide

This guide explains, in plain language, how the Quantum framework helps you build a Supply Chain Collaboration Software‑as‑a‑Service (SaaS). We focus on real business problems—secure data sharing, multi‑party workflows, and tenant isolation—and show how the framework’s building blocks solve them without requiring you to stitch together dozens of bespoke APIs.

== What a supply‑chain SaaS needs (and how Quantum helps)

Common needs when launching a collaboration platform:

- Secure sharing across companies: Buyers, suppliers, carriers, and 3PLs must see the same truth, but only what they’re allowed to see.
- Role‑appropriate views: Planners, operations, and analysts look at the same orders/shipments but need different fields, filters, and actions.
- Auditability and control: You need a clear explanation of who saw or changed what, and why that was allowed.
- Fast onboarding: Each partner authenticates differently; you can’t force everyone into one identity provider.
- API consistency: Your UI and integrations shouldn’t learn a different API for every screen or entity.
- Data lifecycle and stewardship: Easy data imports/exports, clear status tracking, and repeatable completion steps.

How Quantum maps to these needs:

- Multi‑tenancy by design: Each organization (tenant) is isolated by default; sharing is added deliberately and safely.
- Policy‑driven permissions: Human‑readable rules answer “who can do what” and add scoping filters so only the right data shows up.
- Consistent REST and Query: One List API and a simple query language cover most searches and reports—no explosion of bespoke endpoints.
- Flexible identity: Support for different authentication methods per organization, plus delegated admin so each tenant manages its own users.
- State + tasks: Built‑in patterns for long‑running, stateful processes and “completion tasks” to move work forward predictably.

== Why multi‑tenancy is a natural fit for supply chains

Supply chains are networks. Everyone shares a process, but not a database. Quantum isolates each tenant’s data by default and lets you selectively share records with partners:

- Private by default: A supplier’s purchase orders are not visible to other suppliers.
- Share on purpose: Create a “collaboration bubble” around a purchase order or shipment so a buyer and a specific carrier can see the same milestones and documents.
- Central where it helps: Keep a global partner directory or product catalog in a shared domain if that reduces duplication.
- Regional and regulatory needs: Pin certain data (e.g., EU shipments) to the correct region with simple policies.

== Who uses the system (organizations and roles)

Organizations (tenants)
- Shippers and customers: create orders, monitor shipments, approve changes.
- Carriers and 3PLs: accept tenders, provide status, confirm delivery.
- Suppliers: acknowledge POs, provide ASN/invoice data.

Common user types within each organization
- Planners: need forward‑looking visibility—capacity, forecasts, purchase orders.
- Operations: need day‑to‑day details—stops, ETAs, exceptions.
- Business analysts: need trends and history—on‑time performance, cost, root causes.

Data visibility examples
- Private notes: an operations note on a shipment visible only inside the shipper’s tenant.
- Shared context: a delivery appointment visible to both the shipper and the carrier for a specific shipment.
- Role‑filtered: analysts see aggregated KPIs, planners see open exceptions, operators see actionable tasks.

== Identity and access: meet partners where they are

Every organization may authenticate differently:
- Enterprise SSO (OIDC/SAML) for shippers and large suppliers.
- Username/password for smaller partners.
- Service accounts and tokens for system‑to‑system integrations.

Quantum supports these patterns and lets each tenant manage its own users (delegated administration). Permissions can differ by user type and tenant while staying auditable and predictable.

== Modeling without jargon: Areas, Domains, and Actions

To keep your platform organized, Quantum groups things into:
- Functional Areas: broad business spaces like Collaboration, Finance, or Catalog.
- Functional Domains: specific entity types within an area—Partner, Shipment, PurchaseOrder, Invoice.
- Functional Actions: what users do—VIEW, CREATE, UPDATE, DELETE, APPROVE, EXPORT, etc.

Why this matters:
- Clear menus for the UI (group screens by area and domain).
- Clear policy rules (easier to say “Carriers can VIEW Shipments” or “Only Finance can APPROVE Invoices”).

== Policies that say “who can do what” (Rule Language)

Policies are simple, readable rules that match:
- Who is calling (identity and roles)
- What they’re trying to access (area, domain, action)
- Request details (headers/body, like a shipment id or tenant)

Rules then allow or deny the action and can add filters so the user only sees data they’re permitted to see. See the Permissions guide for authoring details (<<permissions>>).

Write‑time data placement (where a new record belongs)
- By default, new records use the creator’s organization.
- You can override per area/domain with a small policy—for example, keep Partner records in a shared “directory” domain while Shipments stay tenant‑local. See “Data domain assignment on create” (<<_data_domain_assignment>>).

== A small, powerful API surface: List + Query

Instead of building a unique search endpoint for every screen, Quantum gives you:
- List API: a single, consistent endpoint per domain to list, filter, sort, page, and project fields.
- Query Language: a simple filter syntax so UIs and reports can ask precise questions.
- Automatic enforcement: policies and data‑domain rules are always applied server‑side, so callers only receive allowed data.

Business outcomes
- Faster delivery: new screens reuse the same list API.
- Fewer mistakes: less custom code, more consistent results.
- Safer by default: even power users can’t bypass policy enforcement.

== Delegated Administration (tenant‑level user management)

Empower each organization to run their own house while you keep platform‑wide safety:
- Tenant admins invite users, reset passwords, and assign roles.
- Role templates per tenant align with their org structure (Planner, Ops, Analyst, Carrier Dispatcher, etc.).
- Cross‑tenant boundaries are respected; global administrators can still support, audit, and troubleshoot with impersonation/acting‑on‑behalf‑of where permitted and logged.

== Integrations and data management

Supply chains depend on clean, timely data. Quantum provides:
- CSV imports/exports: onboard master data quickly, rerun safely, and let business users fix and re‑upload.
- Stateful objects: model processes (e.g., Shipment lifecycle) with clear states—Created → In‑Transit → Delivered → Closed.
- Completion Tasks: checklist‑like steps (confirm pickup, upload POD, reconcile invoice) that drive work to done and provide accountability.
- Consistent access: the same policies that protect your UI protect imports/exports and API calls.

Example uses
- Bulk load a new supplier catalog with CSV import; analysts export exceptions weekly for review.
- Track shipment exceptions as tasks; operations completes them with evidence (attachments/notes), all audited.

== End‑to‑end examples

1) Buyer–supplier collaboration on a Purchase Order
- Create a collaboration bubble around a PO so both parties see schedule, holds, and documents.
- Supplier can UPDATE promised dates; buyer can APPROVE changes. Private buyer notes remain private.

2) Shared partner directory, curated centrally
- Keep one shared Partner domain so everyone finds the same carrier and facility records.
- Only directory curators can CREATE/UPDATE; all tenants can VIEW.

3) EU shipment residency
- Shipments created by anyone in Europe are written to an EU partition by policy. Reads remain role‑ and tenant‑scoped.

== What you don’t have to build from scratch

- Data isolation and safe sharing across tenants
- A consistent CRUD and search API for every domain
- A policy engine that explains its decisions and applies filters
- A write‑time placement policy (so data lands in the right partition)
- Patterns for long‑running, stateful business processes and task completion

The framework gives you these foundations so your teams focus on business value—on‑time deliveries, lower cost, happier customers.

== Next steps

- Start with siloed defaults; prove value quickly using the List API.
- Add small, targeted policies to enable collaboration bubbles and shared directories.
- Introduce delegated administration so partners self‑serve.
- Use CSV imports and Completion Tasks to operationalize data stewardship.
- Deep dive: Permissions and Rule Language (<<permissions>>), and Data domain assignment on create (<<_data_domain_assignment>>).
