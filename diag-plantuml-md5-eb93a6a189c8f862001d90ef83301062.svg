<svg contentStyleType='text/css' data-diagram-type='SEQUENCE' height='446px' preserveAspectRatio='none' style='width:1332px;height:446px;background:#FFFFFF;' version='1.1' viewBox='0 0 1332 446' width='1332px' xmlns:xlink='http://www.w3.org/1999/xlink' xmlns='http://www.w3.org/2000/svg' zoomAndPan='magnify'><defs/><g><g><title>App</title><rect fill='#000000' fill-opacity='0.00000' height='283.7949' width='8' x='17.6411' y='81.4883'/><line style='stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;' x1='21' x2='21' y1='81.4883' y2='365.2832'/></g><g><title>Repo</title><rect fill='#000000' fill-opacity='0.00000' height='283.7949' width='8' x='165.2998' y='81.4883'/><line style='stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;' x1='169.2681' x2='169.2681' y1='81.4883' y2='365.2832'/></g><g><title>ValidationInterceptor</title><rect fill='#000000' fill-opacity='0.00000' height='283.7949' width='8' x='493.1558' y='81.4883'/><line style='stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;' x1='496.6929' x2='496.6929' y1='81.4883' y2='365.2832'/></g><g><title>PermissionRuleInterceptor</title><rect fill='#000000' fill-opacity='0.00000' height='283.7949' width='8' x='677.7251' y='81.4883'/><line style='stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;' x1='681.6187' x2='681.6187' y1='81.4883' y2='365.2832'/></g><g><title>AuditInterceptor</title><rect fill='#000000' fill-opacity='0.00000' height='283.7949' width='8' x='846.4692' y='81.4883'/><line style='stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;' x1='849.8315' x2='849.8315' y1='81.4883' y2='365.2832'/></g><g><title>ReferenceInterceptor</title><rect fill='#000000' fill-opacity='0.00000' height='283.7949' width='8' x='996.917' y='81.4883'/><line style='stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;' x1='1000.1069' x2='1000.1069' y1='81.4883' y2='365.2832'/></g><g><title>PersistenceAuditEventInterceptor</title><rect fill='#000000' fill-opacity='0.00000' height='283.7949' width='8' x='1203.7852' y='81.4883'/><line style='stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;' x1='1207.7271' x2='1207.7271' y1='81.4883' y2='365.2832'/></g><g class='participant participant-head' data-participant='App'><text fill='#000000' font-family='sans-serif' font-size='14' lengthAdjust='spacing' textLength='27.2822' x='5' y='78.5352'>App</text><ellipse cx='21.6411' cy='13.5' fill='#E2E2F0' rx='8' ry='8' style='stroke:#181818;stroke-width:0.5;'/><path d='M21.6411,21.5 L21.6411,48.5 M8.6411,29.5 L34.6411,29.5 M21.6411,48.5 L8.6411,63.5 M21.6411,48.5 L34.6411,63.5' fill='none' style='stroke:#181818;stroke-width:0.5;'/></g><g class='participant participant-tail' data-participant='App'><text fill='#000000' font-family='sans-serif' font-size='14' lengthAdjust='spacing' textLength='27.2822' x='5' y='377.8184'>App</text><ellipse cx='21.6411' cy='389.2715' fill='#E2E2F0' rx='8' ry='8' style='stroke:#181818;stroke-width:0.5;'/><path d='M21.6411,397.2715 L21.6411,424.2715 M8.6411,405.2715 L34.6411,405.2715 M21.6411,424.2715 L8.6411,439.2715 M21.6411,424.2715 L34.6411,439.2715' fill='none' style='stroke:#181818;stroke-width:0.5;'/></g><g class='participant participant-head' data-participant='Repo'><rect fill='#E2E2F0' height='30.4883' rx='2.5' ry='2.5' style='stroke:#181818;stroke-width:0.5;' width='48.0635' x='145.2681' y='50'/><text fill='#000000' font-family='sans-serif' font-size='14' lengthAdjust='spacing' textLength='34.0635' x='152.2681' y='70.5352'>Repo</text></g><g class='participant participant-tail' data-participant='Repo'><rect fill='#E2E2F0' height='30.4883' rx='2.5' ry='2.5' style='stroke:#181818;stroke-width:0.5;' width='48.0635' x='145.2681' y='364.2832'/><text fill='#000000' font-family='sans-serif' font-size='14' lengthAdjust='spacing' textLength='34.0635' x='152.2681' y='384.8184'>Repo</text></g><g class='participant participant-head' data-participant='ValidationInterceptor'><rect fill='#E2E2F0' height='30.4883' rx='2.5' ry='2.5' style='stroke:#181818;stroke-width:0.5;' width='156.9258' x='418.6929' y='50'/><text fill='#000000' font-family='sans-serif' font-size='14' lengthAdjust='spacing' textLength='142.9258' x='425.6929' y='70.5352'>ValidationInterceptor</text></g><g class='participant participant-tail' data-participant='ValidationInterceptor'><rect fill='#E2E2F0' height='30.4883' rx='2.5' ry='2.5' style='stroke:#181818;stroke-width:0.5;' width='156.9258' x='418.6929' y='364.2832'/><text fill='#000000' font-family='sans-serif' font-size='14' lengthAdjust='spacing' textLength='142.9258' x='425.6929' y='384.8184'>ValidationInterceptor</text></g><g class='participant participant-head' data-participant='PermissionRuleInterceptor'><rect fill='#E2E2F0' height='30.4883' rx='2.5' ry='2.5' style='stroke:#181818;stroke-width:0.5;' width='192.2129' x='585.6187' y='50'/><text fill='#000000' font-family='sans-serif' font-size='14' lengthAdjust='spacing' textLength='178.2129' x='592.6187' y='70.5352'>PermissionRuleInterceptor</text></g><g class='participant participant-tail' data-participant='PermissionRuleInterceptor'><rect fill='#E2E2F0' height='30.4883' rx='2.5' ry='2.5' style='stroke:#181818;stroke-width:0.5;' width='192.2129' x='585.6187' y='364.2832'/><text fill='#000000' font-family='sans-serif' font-size='14' lengthAdjust='spacing' textLength='178.2129' x='592.6187' y='384.8184'>PermissionRuleInterceptor</text></g><g class='participant participant-head' data-participant='AuditInterceptor'><rect fill='#E2E2F0' height='30.4883' rx='2.5' ry='2.5' style='stroke:#181818;stroke-width:0.5;' width='125.2754' x='787.8315' y='50'/><text fill='#000000' font-family='sans-serif' font-size='14' lengthAdjust='spacing' textLength='111.2754' x='794.8315' y='70.5352'>AuditInterceptor</text></g><g class='participant participant-tail' data-participant='AuditInterceptor'><rect fill='#E2E2F0' height='30.4883' rx='2.5' ry='2.5' style='stroke:#181818;stroke-width:0.5;' width='125.2754' x='787.8315' y='364.2832'/><text fill='#000000' font-family='sans-serif' font-size='14' lengthAdjust='spacing' textLength='111.2754' x='794.8315' y='384.8184'>AuditInterceptor</text></g><g class='participant participant-head' data-participant='ReferenceInterceptor'><rect fill='#E2E2F0' height='30.4883' rx='2.5' ry='2.5' style='stroke:#181818;stroke-width:0.5;' width='155.6201' x='923.1069' y='50'/><text fill='#000000' font-family='sans-serif' font-size='14' lengthAdjust='spacing' textLength='141.6201' x='930.1069' y='70.5352'>ReferenceInterceptor</text></g><g class='participant participant-tail' data-participant='ReferenceInterceptor'><rect fill='#E2E2F0' height='30.4883' rx='2.5' ry='2.5' style='stroke:#181818;stroke-width:0.5;' width='155.6201' x='923.1069' y='364.2832'/><text fill='#000000' font-family='sans-serif' font-size='14' lengthAdjust='spacing' textLength='141.6201' x='930.1069' y='384.8184'>ReferenceInterceptor</text></g><g class='participant participant-head' data-participant='PersistenceAuditEventInterceptor'><rect fill='#E2E2F0' height='30.4883' rx='2.5' ry='2.5' style='stroke:#181818;stroke-width:0.5;' width='238.1162' x='1088.7271' y='50'/><text fill='#000000' font-family='sans-serif' font-size='14' lengthAdjust='spacing' textLength='224.1162' x='1095.7271' y='70.5352'>PersistenceAuditEventInterceptor</text></g><g class='participant participant-tail' data-participant='PersistenceAuditEventInterceptor'><rect fill='#E2E2F0' height='30.4883' rx='2.5' ry='2.5' style='stroke:#181818;stroke-width:0.5;' width='238.1162' x='1088.7271' y='364.2832'/><text fill='#000000' font-family='sans-serif' font-size='14' lengthAdjust='spacing' textLength='224.1162' x='1095.7271' y='384.8184'>PersistenceAuditEventInterceptor</text></g><g class='message' data-participant-1='App' data-participant-2='Repo'><polygon fill='#181818' points='157.2998,108.7988,167.2998,112.7988,157.2998,116.7988,161.2998,112.7988' style='stroke:#181818;stroke-width:1;'/><line style='stroke:#181818;stroke-width:1;' x1='21.6411' x2='163.2998' y1='112.7988' y2='112.7988'/><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='123.6587' x='28.6411' y='108.0566'>save/update/delete</text></g><g class='message' data-participant-1='Repo' data-participant-2='ValidationInterceptor'><polygon fill='#181818' points='485.1558,138.1094,495.1558,142.1094,485.1558,146.1094,489.1558,142.1094' style='stroke:#181818;stroke-width:1;'/><line style='stroke:#181818;stroke-width:1;' x1='169.2998' x2='491.1558' y1='142.1094' y2='142.1094'/><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='303.856' x='176.2998' y='137.3672'>prePersist (bean validation, dataDomain default)</text></g><g class='message' data-participant-1='ValidationInterceptor' data-participant-2='Repo'><polygon fill='#181818' points='180.2998,167.4199,170.2998,171.4199,180.2998,175.4199,176.2998,171.4199' style='stroke:#181818;stroke-width:1;'/><line style='stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;' x1='174.2998' x2='496.1558' y1='171.4199' y2='171.4199'/><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='73.3662' x='186.2998' y='166.6777'>ok or throw</text></g><g class='message' data-participant-1='Repo' data-participant-2='PermissionRuleInterceptor'><polygon fill='#181818' points='669.7251,196.7305,679.7251,200.7305,669.7251,204.7305,673.7251,200.7305' style='stroke:#181818;stroke-width:1;'/><line style='stroke:#181818;stroke-width:1;' x1='169.2998' x2='675.7251' y1='200.7305' y2='200.7305'/><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='134.8687' x='176.2998' y='195.9883'>prePersist (authorize)</text></g><g class='message' data-participant-1='PermissionRuleInterceptor' data-participant-2='Repo'><polygon fill='#181818' points='180.2998,226.041,170.2998,230.041,180.2998,234.041,176.2998,230.041' style='stroke:#181818;stroke-width:1;'/><line style='stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;' x1='174.2998' x2='680.7251' y1='230.041' y2='230.041'/><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='73.3662' x='186.2998' y='225.2988'>ok or throw</text></g><g class='message' data-participant-1='Repo' data-participant-2='AuditInterceptor'><polygon fill='#181818' points='838.4692,255.3516,848.4692,259.3516,838.4692,263.3516,842.4692,259.3516' style='stroke:#181818;stroke-width:1;'/><line style='stroke:#181818;stroke-width:1;' x1='169.2998' x2='844.4692' y1='259.3516' y2='259.3516'/><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='150.084' x='176.2998' y='254.6094'>prePersist (stamp audit)</text></g><g class='message' data-participant-1='Repo' data-participant-2='ReferenceInterceptor'><polygon fill='#181818' points='988.917,284.6621,998.917,288.6621,988.917,292.6621,992.917,288.6621' style='stroke:#181818;stroke-width:1;'/><line style='stroke:#181818;stroke-width:1;' x1='169.2998' x2='994.917' y1='288.6621' y2='288.6621'/><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='176.4077' x='176.2998' y='283.9199'>prePersist (track references)</text></g><g class='message' data-participant-1='Repo' data-participant-2='PersistenceAuditEventInterceptor'><polygon fill='#181818' points='1195.7852,313.9727,1205.7852,317.9727,1195.7852,321.9727,1199.7852,317.9727' style='stroke:#181818;stroke-width:1;'/><line style='stroke:#181818;stroke-width:1;' x1='169.2998' x2='1201.7852' y1='317.9727' y2='317.9727'/><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='160.2275' x='176.2998' y='313.2305'>prePersist (append event)</text></g><g class='message' data-participant-1='Repo' data-participant-2='App'><polygon fill='#181818' points='32.6411,343.2832,22.6411,347.2832,32.6411,351.2832,28.6411,347.2832' style='stroke:#181818;stroke-width:1;'/><line style='stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;' x1='26.6411' x2='168.2998' y1='347.2832' y2='347.2832'/><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='95.3354' x='38.6411' y='342.541'>persist or error</text></g></g></svg>