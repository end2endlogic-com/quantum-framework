seedPack: system-credentials
version: 1.0.0

# Restrict to system realm only. SeedStartupRunner maps realm system-com -> tenantId system.com
scope:
  type: TENANT_LIST
  tenants: [ "system.com" ]

datasets:
  # Intent-based credential upsert; transform calls UserManagement to hash and create if missing.
  # We persist a harmless intent marker for idempotency tracking in collection credentialIntent.
  - collection: credentialIntent
    naturalKey: [ "userId" ]
    upsert: true
    file: system-credentials.jsonl
    transforms:
      - type: tenantSubstitution
      - type: credentialUpsert
